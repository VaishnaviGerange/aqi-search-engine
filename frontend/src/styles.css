
:root{
  --bg-sky1: #e8f5ff;
  --bg-sky2: #f1fbff;
  --card: #ffffff;
  --muted: #6b7280;
  --primary: #1e88e5;
  --accent: #0b74d1;
  --danger: #e53935;
  --glass: rgba(255,255,255,0.9);
  --shadow: 0 10px 26px rgba(16,24,40,0.06);
  --radius: 12px;
}

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  background: linear-gradient(180deg, var(--bg-sky1), var(--bg-sky2));
  color: #0f172a;
  min-height: 100vh;
}



/* Page container helper (not required by your markup but kept) */
.page-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

.main-header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  background-color: #0b1f3a;   /* navy */
  padding: 22px 16px;
  text-align: center;
  color: white;
  box-shadow: 0 4px 20px rgba(0,0,0,0.16);
}

.header-title {
  margin: 0;
  font-size: 34px;
  font-weight: 700;
  line-height: 1;
}

.header-subtitle {
  margin-top: 6px;
  font-size: 14px;
  color: #d8e8ff;
  margin-bottom: 0;
}


.content-container {
  flex: 1;
  padding: 24px 20px;
  padding-top: 140px;   /* so header doesn't overlap content */
  max-width: 1200px;
  margin: 0 auto;
}



.search-panel {
  background: var(--card);
  border-radius: 14px;
  padding: 20px;
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 18px;
}

/* Responsive wrapper for search */
.search-wrapper {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
@media (min-width: 880px) {
  .search-wrapper {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
}

/* Left info (title + subtitle inside search panel) */
.search-left { flex: 0 0 auto; }
.search-title { margin: 0; font-size: 22px; }
.search-sub { margin: 6px 0 0; color: var(--muted); font-size: 13px; }

/* Search controls container */
.search-controls { flex: 1; }

/* Search box (glass) - base */
.search-box {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--glass);
  padding: 8px;
  border-radius: 999px;
  border: 1px solid rgba(16,24,40,0.04);
  box-shadow: 0 6px 18px rgba(16,24,40,0.04);
}

/* Icon & input inside search box */
.search-box .icon { margin-left: 8px; font-size: 18px; color: var(--muted); }
.search-box input {
  flex: 1;
  border: none;
  padding: 12px 10px;
  border-radius: 999px;
  font-size: 15px;
  outline: none;
  background: transparent;
}

/* Primary search button */
.search-box .btn {
  background: var(--primary);
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 999px;
  cursor: pointer;
  font-weight: 600;
}
.search-box .btn:hover { background: var(--accent); }

/* Meta text under search */
.meta { color: var(--muted); font-size: 13px; margin-top: 6px; }


.results-area { margin-top: 12px; }

/* Grid breakpoints */
.grid {
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  gap: 14px;
}
@media (min-width: 720px) { .grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1100px) { .grid { grid-template-columns: repeat(3, 1fr); } }

/* Generic card styling (kept for compatibility) */
.card {
  background: var(--card);
  border-radius: 12px;
  padding: 14px;
  box-shadow: var(--shadow);
  transition: transform .12s ease, box-shadow .12s ease;
}
.card:hover {
  transform: translateY(-6px);
  box-shadow: 0 18px 40px rgba(16,24,40,0.08);
}

/* Card header */
.card-head { display:flex; justify-content:space-between; gap:12px; align-items:flex-start; }
.card h3 { margin: 0; font-size: 16px; }
.card .sub { color: var(--muted); font-size: 13px; margin-top: 6px; }

/* AQI badge variants (kept) */
.aqi-badge { min-width: 86px; border-radius: 10px; padding: 10px 12px; color: #fff; text-align: center; font-weight: 700; }
.aqi-good { background: #2e7d32; }
.aqi-moderate { background: #f9a825; }
.aqi-unhealthy-s { background: #fb8c00; }
.aqi-unhealthy { background: #e53935; }
.aqi-hazard { background: #6a0040; }

/* Small helper text */
.small { color: var(--muted); font-size: 13px; margin-top: 8px; }
.actions { margin-top: 12px; }
.actions button { border-radius: 8px; padding: 8px 10px; border: 1px solid #eef2f7; background: white; cursor: pointer; }

/* Details area */
.details {
  margin-top: 12px;
  background: #fbfcff;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid #f1f5f9;
  max-height: 320px;
  overflow: auto;
  font-size: 13px;
}
.iaqi-json {
  background: #f6f8fa;
  padding: 8px;
  border-radius: 6px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono";
  font-size: 13px;
  white-space: pre-wrap;
}

/* Messages */
.error-banner { background: #fff6f6; border-left: 4px solid var(--danger); padding: 12px; border-radius: 8px; color: #8b1f1f; }
.loading { color: var(--muted); padding: 12px; }
.empty { color: var(--muted); padding: 12px; text-align: center; }


.main-footer {
  text-align: center;
  padding: 16px;
  background: #f0f4ff;
  margin-top: 30px;
  color: #4a5568;
  font-size: 14px;
  border-top: 1px solid #dbe2ff;
}


@media (max-width: 520px) {
  .header-title { font-size: 22px; }
  .content-container { padding-top: 120px; }
  .search-box input { font-size: 14px; }
  .card h3 { font-size: 15px; }
}



/* enter animation (mount) */
.citycard {
  transform: translateY(8px) scale(0.995);
  opacity: 0;
  transition: transform .45s cubic-bezier(.2,.9,.2,1), opacity .45s ease, box-shadow .15s ease;
}
.citycard.enter {
  transform: translateY(0) scale(1);
  opacity: 1;
}

/* warm-beige card look */
.citycard {
  background: linear-gradient(180deg, #fbf7ee, #f9f4e7);
  border-radius: 14px;
  padding: 18px;
  border: 1px solid #efe4cb;
  box-shadow: 0 10px 30px rgba(14,20,30,0.08);
  color: #082033; /* deep navy text */
}

.citycard-top { display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
.citycard-title { font-size: 16px; font-weight: 700; color: #082033; }

/* AQI pill animation */
.aqi-pill-animated {
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:6px;
  min-width:92px;
  padding-left:10px;
  border-left:4px solid transparent;
}
.aqi-value-bubble {
  min-width:48px;
  padding:8px 10px;
  border-radius:10px;
  color:#fff;
  font-weight:800;
  text-align:center;
  box-shadow: 0 6px 18px rgba(14,20,30,0.12);
  animation: badge-pop .9s cubic-bezier(.2,.9,.2,1);
}
.aqi-text-small { font-size:12px; color:#082033; opacity:0.95; }

@keyframes badge-pop {
  0% { transform: scale(.92); }
  60% { transform: scale(1.06); }
  100% { transform: scale(1); }
}

/* pulsing glow for hazardous */
.aqi-value-bubble[style*="#7e0023"],
.aqi-value-bubble[style*="#6a0040"] {
  box-shadow: 0 0 0 0 rgba(110,0,60,0.12);
  animation: pulse 2s infinite;
}
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(110,0,60,0.12); }
  70% { box-shadow: 0 0 22px 8px rgba(110,0,60,0.04); }
  100% { box-shadow: 0 0 0 0 rgba(110,0,60,0); }
}

.citycard-small { margin-top:10px; color:#082033; font-size:14px; }
.citycard-actions { margin-top:14px; }

/* beige details button */
.details-btn {
  background: linear-gradient(180deg,#f6e7c8,#f1d8b3);
  border: 1px solid #e8c79c;
  padding:8px 14px;
  font-weight:600;
  border-radius:10px;
  cursor:pointer;
  color:#082033;
  box-shadow: 0 6px 14px rgba(14,20,30,0.06);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.details-btn:hover { transform: translateY(-3px); box-shadow: 0 12px 26px rgba(14,20,30,0.10); }
.details-btn:disabled { opacity:0.7; transform:none; cursor:default; }

/* details panel expand/collapse */
.citycard-details {
  margin-top:12px;
  background:#fffdf7;
  border-radius:12px;
  padding:12px;
  border:1px solid #efe4cb;
  color:#082033;
  max-height:0;
  overflow:hidden;
  opacity:0;
  transform: translateY(-6px);
  transition: max-height .36s ease, opacity .36s ease, transform .36s ease;
}
.citycard-details.open {
  max-height:420px;
  opacity:1;
  transform: translateY(0);
}

/* IAQI grid inside details */
.iaqi-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-top:8px; }
.iaqi-item { background:#fff; padding:8px; border-radius:8px; border:1px solid #f3ead0; display:flex; justify-content:space-between; align-items:center; }
.iaqi-key { font-size:12px; color:#6b7280; }
.iaqi-val { font-weight:700; font-family:ui-monospace, SFMono-Regular, Menlo; }

/* skeleton placeholders */
.skeleton .s-line {
  height:12px;
  background: linear-gradient(90deg,#f3e9d6,#f6f1e6);
  border-radius:6px;
  margin-bottom:10px;
  animation: shimmer 1.2s linear infinite;
}
.skeleton .s-line.short { width:60%; }
.skeleton .s-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-top:8px; }
.skeleton .s-box { height:48px; background: linear-gradient(90deg,#f3e9d6,#f6f1e6); border-radius:8px; animation: shimmer 1.2s linear infinite; }

@keyframes shimmer { 0% { background-position: -200px 0; } 100% { background-position: 200px 0; } }
.skeleton .s-line, .skeleton .s-box { background-size: 400px 100%; background-repeat: no-repeat; }

@media (max-width: 520px) {
  .citycard { padding: 14px; }
  .iaqi-grid { grid-template-columns:repeat(2,1fr); }
}


/* glass variant for search-box (wider) */
.search-box.glass {
  position: relative;
  width: 100%;
  max-width: 880px;          /* wider by default */
  padding: 8px 10px;
  display: flex;
  align-items: center;
  gap: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.85);
  border: 1px solid rgba(16,24,40,0.06);
  box-shadow: 0 8px 22px rgba(14,20,30,0.06);
  transition: box-shadow .18s ease, transform .12s ease;
}

/* focused glow */
.search-box.focused {
  box-shadow: 0 12px 42px rgba(14,20,30,0.12), 0 0 0 6px rgba(30,136,229,0.06);
  transform: translateY(-2px);
}

/* placeholder fade */
.search-box input::placeholder {
  color: #9aa9bd;
  transition: opacity .28s ease, transform .28s ease;
}
.search-box.focused input::placeholder {
  opacity: 0.55;
  transform: translateX(-6px);
}

/* input basics */
.search-box input {
  flex: 1;
  border: none;
  outline: none;
  background: transparent;
  font-size: 15px;
  padding: 10px 6px;
}

/* larger search button */
.search-box .btn { padding: 10px 18px; border-radius: 999px; font-weight: 700; font-size: 14px; }

/* recent dropdown */
.recent-dropdown {
  position: absolute;
  left: 10px;
  right: 10px;
  top: calc(100% + 8px);
  background: #ffffff;
  border-radius: 10px;
  box-shadow: 0 12px 30px rgba(14,20,30,0.12);
  border: 1px solid #eef3f7;
  z-index: 60;
  padding: 8px;
  min-height: 44px;
}

.recent-header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 6px 8px;
  border-bottom: 1px dashed #f1f5f9;
  color: var(--muted);
  font-size: 13px;
}

/* clear button in dropdown */
.recent-clear { background: transparent; border: none; color: var(--muted); cursor: pointer; font-size: 12px; }

/* list items (chips) */
.recent-list { display:flex; flex-wrap:wrap; gap:8px; padding: 8px 4px 2px 4px; }
.recent-item {
  background: #f6fbff;
  border: 1px solid #e7f0fb;
  padding: 6px 10px;
  border-radius: 999px;
  cursor: pointer;
  color: var(--primary);
  font-weight: 600;
  font-size: 13px;
  transition: transform .12s ease, background .12s ease;
}
.recent-item:hover { transform: translateY(-3px); background:#eef8ff; }

/* responsive tweaks for search dropdown */
@media (max-width: 720px) {
  .search-box.glass { max-width: 100%; padding: 8px; }
  .recent-dropdown { left: 6px; right: 6px; top: calc(100% + 6px); }
  .recent-list { gap: 6px; }
}

/* focus outlines for keyboard navigation */
.search-box .btn:focus, .recent-item:focus { outline: 3px solid rgba(30,136,229,0.12); outline-offset: 2px; }
